
{% extends 'trackerPage/base.html' %}
{% load static %}

{% block body_block %}
<html>
    <head>
        <meta charset="utf-8">
        <title>IP to Latitude and Longitude</title>
       <link rel = "stylesheet" href = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" /> 
    </head>
<body>
    <!-- class code to get jumbotron in bootstrap v5-->
    <div class='container'>
    <div class='row'>
    <div class='jumbotron'>
        <h1 id='covid-header'>IP Lat & Long</h1>
    </div>
    </div>
    </div>


    <div class='container'>
    <div class='row'>
    <div class='' id='map' style='width: 700px; height: 450px; border: 2px;'>
        <script src = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
        <script>
             
            //Create map options.
            var mapOptions = {
                center: ["{{latitude}}", "{{longitude}}"],
                zoom: 14
            }
            
            
            //Map object.
            var map = new L.map('map', mapOptions);
        
            //Create a layer object. 
            var osmLayer = new L.TileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png");
        
            //Add layer to the map. 
            map.addLayer(osmLayer);
            // Clicking on marker. 
            var marker = L.marker([mapOptions.center[0], mapOptions.center[1]]).addTo(map).on('click', function(e){
                alert(`Your geo location is: ${mapOptions.center[0]} , ${mapOptions.center[1]}`);
            });
        </script>
        
    </div>
    </div>

    
</body>

</html>
{% endblock %}